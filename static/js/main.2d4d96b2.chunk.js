(this["webpackJsonpreact_dynamic-list-of-goods"]=this["webpackJsonpreact_dynamic-list-of-goods"]||[]).push([[0],{31:function(e,t,c){},36:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var a=c(9),s=c.n(a),n=c(3),r=c(0),l=(c(31),c(14)),i=(c(36),c(2)),o=c(5),d="character",u=function(e){return fetch("".concat("https://rickandmortyapi.com/api/","/").concat(e)).then((function(e){return e.json()}))},j=function(e){return u("".concat(d,"/?page=").concat(e))},h=c(1),b=function(e){var t=e.selectedId,c=e.onClose,a=function(e){var t=e.selectedId,c=Object(r.useState)(null),a=Object(n.a)(c,2),s=a[0],l=a[1],j=Object(r.useState)(""),h=Object(n.a)(j,2),b=h[0],O=h[1],m=Object(r.useCallback)(Object(o.a)(Object(i.a)().mark((function e(){var c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a=t,u("".concat(d,"/").concat(a));case 3:c=e.sent,l(c),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error("can't get stats");case 10:case"end":return e.stop()}var a}),e,null,[[0,7]])}))),[]);return Object(r.useEffect)((function(){m(),null!==s&&void 0!==s&&s.episode&&fetch(null===s||void 0===s?void 0:s.episode[(null===s||void 0===s?void 0:s.episode.length)-1]).then((function(e){return e.json()})).then((function(e){return O(e.name)}))}),[t]),{lastEpisode:b,character:s}}({selectedId:t}),s=a.character,j=a.lastEpisode;return s?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{type:"button",className:"blur",onClick:c}),Object(h.jsxs)("div",{className:"characterStats__content",children:[Object(h.jsx)("button",{type:"button",className:"characterStats__closeBtn",onClick:c,children:"X"}),Object(h.jsx)("img",{className:"characterStats__img",src:"".concat(s.image),alt:"".concat(s.name)}),Object(h.jsx)("div",{className:"characterStats__content__name",children:s.name}),Object(h.jsx)("table",{className:"characterStats",children:Object(h.jsx)("tbody",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:"characterStats__name",children:Object(h.jsxs)("span",{className:"characterStats__info",children:["Gender:"," ",s.gender]})}),Object(h.jsx)("td",{className:"characterStats__stat",children:Object(h.jsxs)("span",{className:"characterStats__info",children:["Species:"," ",s.species]})}),Object(h.jsx)("td",{className:"characterStats__stat",children:Object(h.jsxs)("span",{className:"characterStats__info",children:["Location:"," ",s.origin.name]})}),j&&Object(h.jsx)("td",{className:"characterStats__stat",children:Object(h.jsxs)("span",{className:"characterStats__info",children:["Last episode:"," ",j]})})]})})})]})]}):Object(h.jsx)("div",{className:"characterStats__content",children:Object(h.jsx)(l.a,{color:"#000",height:150,width:150})})},O=c(26),m=function(e){var t=e.selectedFilters,c=e.onChange,a=e.placeholder,s=e.filters,l=Object(r.useState)([]),i=Object(n.a)(l,2),o=i[0],d=i[1];return Object(r.useEffect)((function(){d(s.map((function(e){return{value:e,label:e}})))}),[]),Object(h.jsx)("div",{className:"App__filters",children:Object(h.jsx)(O.a,{options:o,isMulti:!0,value:t,onChange:function(e){return c(e)},placeholder:a})})},p=["Human","Alien","Humanoid","Poopybutthole","Mythological","Unknown","Animal","Disease","Robot","Cronenberg","Planet"],f=["Alive","Dead","Unknown"],x=["Female","Male","Genderless","Unknown"],_=c(4),v=function(e,t){return e.some((function(e){return e.includes(t)}))},g=c(25),S=c.n(g),N=(c(61),function(e){var t=e.card,c=t.image,a=t.origin,s=t.name,n=t.status;return Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("div",{className:"card-image",children:Object(h.jsxs)("figure",{className:"image is-4by3",children:[Object(h.jsx)("img",{className:"characterCard__img",src:c,alt:t.name}),Object(h.jsx)("div",{className:S()("characterCard__status",{characterCard__status_red:"Dead"===n},{characterCard__status_gray:"unknown"===n}),children:n})]})}),Object(h.jsxs)("div",{className:"card-content",children:[Object(h.jsxs)("div",{className:"media",children:[Object(h.jsx)("div",{className:"media-left"}),Object(h.jsx)("div",{className:"media-content",children:Object(h.jsx)("p",{className:"title is-4",children:s})})]}),Object(h.jsx)("div",{className:"content",children:Object(h.jsxs)("div",{className:"characterCard__location",children:[Object(h.jsx)("span",{className:"characterCard__location-title",children:"Location:"})," ".concat(a.name)]})})]})]})}),C=(c(62),function(e){var t=e.cards,c=e.onChange;return Object(h.jsx)("div",{className:"characterList",children:t.map((function(e){return Object(h.jsx)("button",{className:"characterCard",onClick:function(){return c(e.id)},children:Object(h.jsx)(N,{card:e})},e.id)}))})}),w=function(){var e=Object(r.useState)(null),t=Object(n.a)(e,2),c=t[0],a=t[1],s=function(){var e=Object(r.useState)(!1),t=Object(n.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)([]),l=Object(n.a)(s,2),d=l[0],u=l[1],h=Object(r.useState)(1),b=Object(n.a)(h,2),O=b[0],m=b[1],p=Object(r.useCallback)(Object(o.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,e.next=4,j(O);case 4:t=e.sent,u(t.results),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),new Error("Something went wrong with loading more cards");case 11:return e.prev=11,a(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])}))),[]),f=Object(r.useCallback)((function(){a(!0),m((function(e){var t=e+1;return j(t).then((function(e){u((function(t){return[].concat(Object(_.a)(t),Object(_.a)(e.results))})),a(!1)})),t}))}),[]);return Object(r.useEffect)((function(){p()}),[]),{isLoading:c,cards:d,handleLoad:f}}(),d=s.isLoading,u=s.handleLoad,O=function(e){var t=e.cards,c=Object(r.useState)([]),a=Object(n.a)(c,2),s=a[0],l=a[1],i=Object(r.useState)([]),o=Object(n.a)(i,2),d=o[0],u=o[1],j=Object(r.useState)([]),h=Object(n.a)(j,2),b=h[0],O=h[1];return{preparedCards:Object(r.useMemo)((function(){var e=s.map((function(e){return e.value})),c=b.map((function(e){return e.value})),a=d.map((function(e){return e.value}));return t.filter((function(t){var s=t.species,n=t.gender,r=t.status,l=!e.length||v(e,s),i=!c.length||v(c,n),o=!a.length||v(a,r);return l&&i&&o}))}),[s,t,d,b]),selectedFilters:s,selectedStatus:d,selectedGenders:b,setSelectedSpecies:l,setSelectedStatus:u,setSelectedGenders:O}}({cards:s.cards}),g=O.preparedCards,S=O.selectedFilters,N=O.selectedStatus,w=O.selectedGenders,k=O.setSelectedStatus,y=O.setSelectedGenders,F=O.setSelectedSpecies;return Object(h.jsxs)("div",{className:"App__wrapper",children:[Object(h.jsxs)("div",{className:"App__CharacterFilters",children:[Object(h.jsx)(m,{selectedFilters:S,onChange:F,filters:p,placeholder:"Select species"}),Object(h.jsx)(m,{selectedFilters:N,onChange:k,filters:f,placeholder:"Select status"}),Object(h.jsx)(m,{selectedFilters:w,onChange:y,filters:x,placeholder:"Select genders"})]}),!d&&!g.length&&Object(h.jsx)("h2",{className:"App__noCharacters",children:"Have not characters"}),Object(h.jsx)(C,{onChange:a,cards:g}),d&&!g.length&&Object(h.jsx)(l.a,{color:"#000",wrapperClass:"App__loader",height:150,width:150}),c&&Object(h.jsx)(b,{selectedId:c,onClose:function(){return a(null)}}),Object(h.jsx)("button",{className:"button is-fullwidth",type:"button",onClick:u,disabled:d,children:"Load more"})]})};c(63);s.a.render(Object(h.jsx)(w,{}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.2d4d96b2.chunk.js.map